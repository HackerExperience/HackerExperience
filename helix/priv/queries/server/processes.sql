--------------------------------------------------------------------------------
----------------------------------- SELECTS ------------------------------------
--------------------------------------------------------------------------------

-- :by_entity
SELECT * FROM processes WHERE entity_id = ? ORDER BY inserted_at DESC;

--------------------------------------------------------------------------------
----------------------------------- INSERTS ------------------------------------
--------------------------------------------------------------------------------

-- :__insert
INSERT INTO processes (
  entity_id,
  type,
  data,
  registry,
  status,
  resources,
  priority,
  inserted_at,
  last_checkpoint_ts,
  estimated_completion_ts
  )
VALUES
  (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
RETURNING *;
