--------------------------------------------------------------------------------
----------------------------------- INSERTS ------------------------------------
--------------------------------------------------------------------------------

-- :__insert
INSERT INTO file_visibilities
  (server_id, file_id, inserted_at)
VALUES
  (?, ?, ?)
RETURNING *;

--------------------------------------------------------------------------------
----------------------------------- SELECTS ------------------------------------
--------------------------------------------------------------------------------

-- :by_server
SELECT file_id
FROM file_visibilities
WHERE server_id = ?
ORDER BY inserted_at DESC
LIMIT 50;
